## Eximapro Tender Parser

Проект предназначен для сбора тендеров с сайта [rostender.info](https://rostender.info/extsearch). Доступны два способа использования: через консоль и через HTTP API с FastAPI.

---

### Установка

1. Клонируйте репозиторий:

```bash
git clone https://github.com/yourusername/eximapro_test.git
cd eximapro
```

2. Создайте виртуальное окружение и активируйте:

```bash
python -m venv venv
source venv/bin/activate
```

3. Установите зависимости:

```bash
pip install -r requirements.txt
```

---

## Консольный режим

Скрипт позволяет собрать нужное количество тендеров и сохранить их в CSV или JSON файл.

### Запуск

```bash
python console/main_console.py --max 50 --output tenders.csv
```

### Аргументы:

| Аргумент   | Описание                                            | Пример                    |
| ---------- | --------------------------------------------------- | ------------------------- |
| `--max`    | Максимальное количество тендеров (по умолчанию 100) | `--max 50`                |
| `--output` | Имя выходного файла (CSV или JSON)                  | `--output out.json`       |
| `--domain` | Источник (поддерживается: `rostender.info`)         | `--domain rostender.info` |

---

## FastAPI API

Позволяет запрашивать тендеры через HTTP-интерфейс.

### Запуск сервера

```bash
uvicorn api.main:app --reload
```

### Эндпоинт

`GET /tenders`

### Параметры:

| Параметр    | Тип                | Описание                                            |
| ----------- | ------------------ | --------------------------------------------------- |
| `max_items` | `int`              | Максимальное количество тендеров (по умолчанию 100) |
| `domain`    | `"rostender.info"` | Источник тендеров                                   |

### Пример запроса:

```
GET http://127.0.0.1:8000/tenders?max_items=10&domain=rostender.info
```

### Пример ответа:

```json
[
  {
    "tender_id": "123456",
    "title": "Поставка оборудования",
    "url": "https://rostender.info/...",
    "date_start": "01.08.2025",
    "date_end": "10.08.2025 18:00",
    "price": "1 200 000 ₽",
    "location": "Москва",
    "categories": ["Электроника", "Строительство"]
  }
]
```

---

## Что сделано

* Парсинг тендеров с сайта `rostender.info` с помощью `BeautifulSoup`.
* Консольный интерфейс с сохранением результатов в файл.
* Веб-интерфейс через FastAPI (асинхронный).
* Сериализация данных через Pydantic.
* Обработка пагинации и ограничение по количеству результатов.

---

## Что можно улучшить

* Добавить логирование и обработку ошибок сети.
* Кэширование или сохранение в базу данных (например, SQLite).
* Автоматические тесты и CI.
* Docker-контейнеризация проекта.